<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VPPS - H·ªçc Vi·ªán C·∫£nh S√°t Nh√¢n D√¢n</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="Documents/images/logo_vpps.jpg" />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #f5f6fa;
      min-height: 100vh;
      margin: 0;
      color: #232946;
      transition: background 0.5s, color 0.5s;
    }
    body.dark-mode {
      background: #15151e;
      color: #e3e3e3;
    }
    .header-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #fff;
      box-shadow: 0 2px 16px 0 rgba(80,110,255,.03);
      padding: 0 32px;
      height: 66px;
      position: sticky;
      top: 0;
      z-index: 10;
      transition: background 0.4s, color 0.4s;
    }
    body.dark-mode .header-bar {
      background: #181a22;
      color: #e3e3e3;
      box-shadow: 0 2px 16px 0 rgba(80,110,255,.08);
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .vpps-logo {
      width: 44px;
      height: 44px;
      border-radius: 14px;
      box-shadow: 0 4px 20px 0 rgba(80,110,255,.08);
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border: 2px solid #fff;
      transition: border-color 0.4s;
    }
    body.dark-mode .vpps-logo { border-color: #22293a; background: #181a22; }
    .vpps-logo img {
      width: 38px;
      height: 38px;
      display: block;
    }
    .site-title {
      font-size: 1.28em;
      font-weight: 700;
      letter-spacing: .5px;
      color: #5d6cd6;
      text-shadow: 0 2px 8px #f5f6fa2a;
      transition: color 0.4s;
      user-select: none;
    }
    body.dark-mode .site-title { color: #aad2ff; }
    .header-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .theme-toggle-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 2px solid transparent;
      background: #22293a;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      outline: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: border-color 0.25s, box-shadow 0.2s, background 0.3s;
      margin-right: 8px;
    }
    .theme-toggle-btn:hover,
    .theme-toggle-btn:focus {
      border-color: #7cb4fa;
      box-shadow: 0 0 0 3px rgba(124,180,250,0.18);
      background: #161b22;
    }
    .theme-toggle-btn svg {
      width: 24px;
      height: 24px;
      display: block;
      transition: transform 0.4s;
    }
    .theme-toggle-btn .icon-sun { display: none; }
    .theme-toggle-btn .icon-moon { display: block; }
    body.light-mode .theme-toggle-btn {
      background: #f5f6fa;
      border-color: #7cb4fa;
    }
    body.light-mode .theme-toggle-btn .icon-sun { display: block; }
    body.light-mode .theme-toggle-btn .icon-moon { display: none; }

    /* Music toggle button */
    .music-toggle-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 2px solid transparent;
      background: #e5e9f8;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      outline: none;
      margin-left: 2px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: border-color 0.25s, box-shadow 0.2s, background 0.3s;
      position: relative;
    }
    .music-toggle-btn svg {
      width: 24px;
      height: 24px;
      display: block;
      transition: transform 0.4s;
    }
    .music-toggle-btn .icon-music-on { display: block; }
    .music-toggle-btn .icon-music-off { display: none; }
    .music-toggle-btn.music-off .icon-music-on { display: none; }
    .music-toggle-btn.music-off .icon-music-off { display: block; }
    .music-toggle-btn:hover,
    .music-toggle-btn:focus {
      border-color: #7cb4fa;
      box-shadow: 0 0 0 3px rgba(124,180,250,0.18);
      background: #d2e3ff;
    }
    body.dark-mode .music-toggle-btn {
      background: #20253a;
      color: #fff;
    }
    body.dark-mode .music-toggle-btn.music-off {
      background: #181a22;
      color: #fff;
    }

    /* ... gi·ªØ nguy√™n c√°c style chat, overlay, hi·ªáu ·ª©ng ... */
    /* Chat style */
    .chat-container {
      max-width: 690px;
      margin: 50px auto;
      padding: 0 16px;
    }
    .chat-line {
      position: relative;
      margin-bottom: 28px;
      padding: 22px 28px;
      border-radius: 18px;
      font-size: 1.13em;
      font-weight: 500;
      color: #1a233a;
      overflow: hidden;
      z-index: 1;
      background: rgba(255,255,255,0.92);
      box-shadow: 0 8px 38px 0 rgba(50,60,150,0.13), 0 1.5px 6px 0 rgba(80,110,255,0.11);
      backdrop-filter: blur(2.5px);
      transition: box-shadow 0.3s, transform 0.25s, background 0.3s, color 0.3s;
      display: flex;
      align-items: center;
      gap: 18px;
      cursor: pointer;
    }
    .chat-line:hover {
      box-shadow: 0 16px 44px 0 rgba(50,60,150,0.18), 0 2.5px 10px 0 rgba(80,110,255,0.14);
      transform: translateY(-2px) scale(1.025);
    }
    .chat-line::before {
      content: "";
      position: absolute;
      inset: -35%;
      z-index: -1;
      background: radial-gradient(circle at 80% 15%, #8dc8ff 0%, #eeb7fe 50%, #fff7d6 100%);
      opacity: 0.45;
      filter: blur(12px);
      animation: bgMove 7s cubic-bezier(0.77,0,0.18,1) infinite alternate;
    }
    .chat-line:nth-child(2)::before {
      background: radial-gradient(circle at 20% 80%, #ffe6b7 0%, #c7a6ff 40%, #b7ffe2 100%);
      opacity: 0.35;
      animation-delay: 2.5s;
    }
    .chat-line:nth-child(3)::before {
      background: radial-gradient(circle at 60% 80%, #e4b7ff 0%, #b7ffd6 45%, #ffd6d6 100%);
      opacity: 0.34;
      animation-delay: 1.3s;
    }
    .chat-line:nth-child(4)::before {
      background: radial-gradient(circle at 40% 20%, #b7e6ff 0%, #ffe6b7 50%, #eeb7fe 100%);
      opacity: 0.38;
      animation-delay: 3.2s;
    }
    .chat-avatar {
      flex-shrink: 0;
      width: 36px; height: 36px;
      border-radius: 50%;
      background: #fff;
      box-shadow: 0 2px 8px 0 rgba(80,110,255,0.09);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border: 2px solid #e9e9fd;
    }
    .chat-avatar img {
      width: 30px; height: 30px;
      display: block;
    }
    .chat-content { flex: 1; }
    body.dark-mode .chat-line {
      background: rgba(26, 27, 44, 0.89);
      color: #e3e3e3;
      box-shadow: 0 8px 40px 0 rgba(44,60,150,0.18), 0 1.5px 8px 0 rgba(124,180,250,0.15);
    }
    body.dark-mode .chat-line::before {
      opacity: 0.30;
      filter: blur(15px);
    }
    body.dark-mode .chat-avatar { background: #181a22; border-color: #353d5c; }

    /* Responsive */
    @media (max-width: 700px) {
      .header-bar { padding: 0 8px; height: 58px; }
      .site-title { font-size: 1.05em; }
      .chat-container { max-width: 100%; }
      .chat-line { font-size: 1em; padding: 13px 8px; }
      .chat-avatar { width: 28px; height: 28px; }
      .chat-avatar img { width: 22px; height: 22px; }
      .subpage-content { margin-top: 30px; padding: 32px 5px 22px 5px; }
      .founders-section { padding: 18px 5px 10px 5px; }
    }
    @keyframes bgMove {
      0%   { transform: scale(1.0) translateY(0) translateX(0);}
      40%  { transform: scale(1.04) translateY(-10px) translateX(16px);}
      80%  { transform: scale(1.09) translateY(22px) translateX(-25px);}
      100% { transform: scale(1.14) translateY(8px) translateX(10px);}
    }

    /* Viewer eye */
    .viewer-eye {
      position: fixed;
      left: 30px;
      bottom: 28px;
      background: rgba(18, 32, 52, 0.94);
      color: #aad2ff;
      border-radius: 24px;
      box-shadow: 0 2px 15px rgba(80,110,255,0.14);
      padding: 7px 18px 7px 13px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 1.08em;
      z-index: 2222;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s;
    }
    .viewer-eye.visible { opacity: 1; pointer-events: auto; }
    .viewer-eye svg {
      width: 22px; height: 22px;
      display: block;
      margin-right: 2px;
    }
    body.dark-mode .viewer-eye {
      background: rgba(32, 48, 72, 0.98);
      color: #fff;
    }
    /* Subpage overlay and founders section fix */
    .subpage-overlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(120deg, #b7d1ff 0%, #f7e1fe 60%, #fff7d6 100%);
      background-size: 200% 200%;
      animation: subpageBg 7s infinite alternate;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      overflow-y: auto;
      min-height: 100vh;
      transition: background 0.4s;
    }
    body.dark-mode .subpage-overlay {
      background: linear-gradient(120deg, #1a213a 0%, #251a33 70%, #2e384a 100%);
    }
    @keyframes subpageBg {
      0% { background-position: 0 0; }
      100% { background-position: 100% 100%; }
    }
    .subpage-content {
      margin-top: 88px;
      background: rgba(255,255,255,0.95);
      border-radius: 22px;
      box-shadow: 0 8px 64px 0 rgba(124,180,250,0.09);
      max-width: 490px;
      width: 95%;
      padding: 44px 27px 34px 27px;
      color: #1a233a;
      font-size: 1.11em;
      line-height: 1.7;
      position: relative;
      z-index: 11;
      border: 1.5px solid #c7eaff;
      transition: background 0.4s, color 0.4s;
      animation: fadeInUp 0.8s cubic-bezier(0.77,0,0.18,1);
      margin-bottom: 50px;
      /* tr√°nh d√≠nh s√°t ƒë√°y khi scroll */
    }
    body.dark-mode .subpage-content {
      background: rgba(34,38,60,0.96);
      color: #eaf4ff;
      border-color: #233a56;
    }
    @keyframes fadeInUp {
      from { transform: translateY(80px); opacity: 0;}
      to   { transform: translateY(0); opacity: 1;}
    }
    .subpage-close {
      position: absolute;
      top: 18px; right: 22px;
      background: none;
      border: none;
      font-size: 1.7em;
      color: #5d6cd6;
      cursor: pointer;
      opacity: 0.7;
      transition: color 0.25s, opacity 0.2s;
      z-index: 2;
    }
    .subpage-close:hover { color: #e74949; opacity: 1;}
    /* ---------- Founders Section ----------- */
    .founders-section {
      margin: 36px auto 22px auto;
      max-width: 440px;
      background: rgba(255,255,255,0.93);
      border-radius: 20px;
      box-shadow: 0 4px 32px rgba(80,110,255,.09);
      padding: 26px 25px 22px 25px;
      text-align: center;
    }
    body.dark-mode .founders-section {
      background: rgba(30,38,62,0.96);
    }
    .founder-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      border-radius: 14px;
      border: 1.5px solid #f0e3ff;
      padding: 16px 14px 20px 14px;
      background: #f6f8fd;
      transition: box-shadow 0.2s;
    }
    body.dark-mode .founder-card {
      background: #23293e;
      border-color: #394a6a;
    }
    .founder-card.highlight {
      border: 2.5px solid #f0572d;
      background: linear-gradient(90deg, #fff1e3 60%, #ffd4d4 100%);
    }
    body.dark-mode .founder-card.highlight {
      border-color: #f0572d;
      background: linear-gradient(90deg, #2a232a 60%, #402a2a 100%);
    }
    .founder-avatar {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      background: #fff;
      object-fit: cover;
      border: 2.5px solid #f0572d;
      box-shadow: 0 1px 10px #f0572d33;
      display: block;
      margin-bottom: 10px;
      max-width: 100%;
    }
    .founder-info { width: 100%; }
    .founder-name {
      font-size: 1.19em;
      font-weight: 700;
      color: #f0572d;
      margin-bottom: 4px;
    }
    .founder-role {
      font-size: 1em;
      font-weight: 600;
      color: #5d6cd6;
      margin-bottom: 7px;
    }
    .founder-desc {
      font-size: .99em;
      color: #333;
    }
    body.dark-mode .founder-desc { color: #e3e3e3; }
  </style>
</head>
<body>
  <!-- Header bar gi·ªëng Discord -->
  <div class="header-bar">
    <div class="header-left">
      <div class="vpps-logo">
        <img src="Documents/images/logo_vpps - Copy.jpg" alt="VPPS Logo" />
      </div>
      <span class="site-title">VPPS - H·ªçc Vi·ªán C·∫£nh S√°t Nh√¢n D√¢n</span>
    </div>
    <div class="header-actions">
      <button class="theme-toggle-btn" id="themeToggle" title="ƒê·ªïi ch·∫ø ƒë·ªô s√°ng/t·ªëi" aria-label="ƒê·ªïi ch·∫ø ƒë·ªô s√°ng/t·ªëi">
        <span class="icon-moon">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M21 12.79A9 9 0 0111.21 3c0 .34.02.67.05 1A7 7 0 0012 21a9 9 0 009-8.21z"
              fill="#f5c243" stroke="#f5c243" stroke-width="2"/>
          </svg>
        </span>
        <span class="icon-sun">
          <svg viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="5" fill="#22293a" stroke="#22293a" stroke-width="2"/>
            <g stroke="#22293a" stroke-width="2">
              <line x1="12" y1="2" x2="12" y2="5"/>
              <line x1="12" y1="19" x2="12" y2="22"/>
              <line x1="2" y1="12" x2="5" y2="12"/>
              <line x1="19" y1="12" x2="22" y2="12"/>
              <line x1="4.22" y1="4.22" x2="6.34" y2="6.34"/>
              <line x1="17.66" y1="17.66" x2="19.78" y2="19.78"/>
              <line x1="17.66" y1="6.34" x2="19.78" y2="4.22"/>
              <line x1="4.22" y1="19.78" x2="6.34" y2="17.66"/>
            </g>
          </svg>
        </span>
      </button>
      <button class="music-toggle-btn" id="musicToggle" title="B·∫≠t/T·∫Øt nh·∫°c n·ªÅn" aria-label="B·∫≠t/T·∫Øt nh·∫°c n·ªÅn">
        <span class="icon-music-on">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M9 17v-7.5l9-2v8" stroke="#4fd165" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="9" cy="19" r="2" fill="#4fd165"/>
            <circle cx="19" cy="19" r="2" fill="#4fd165"/>
          </svg>
        </span>
        <span class="icon-music-off">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M9 17v-7.5l9-2v8" stroke="#e94f4f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="9" cy="19" r="2" fill="#e94f4f"/>
            <circle cx="19" cy="19" r="2" fill="#e94f4f"/>
            <line x1="5" y1="5" x2="23" y2="23" stroke="#e94f4f" stroke-width="2"/>
          </svg>
        </span>
      </button>
    </div>
  </div>

  <!-- Chat demo ƒë·∫πp, icon avatar t·ª´ng d√≤ng -->
  <div class="chat-container">
    <div class="chat-line" data-subpage="welcome">
      <span class="chat-avatar">
        <img src="Documents/images/logo_vpps - Copy.jpg" alt="VPPS" />
      </span>
      <span class="chat-content">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi VPPS! üöì ƒê√¢y l√† hi·ªáu ·ª©ng chat n·ªÅn ƒë·ªông gradient v√† avatar c·ª±c ƒë·∫πp.</span>
    </div>
    <div class="chat-line" data-subpage="discord">
      <span class="chat-avatar">
        <img src="https://cdn-icons-png.flaticon.com/512/2111/2111370.png" alt="Discord" />
      </span>
      <span class="chat-content">K·∫øt n·ªëi Discord - Roblox, qu·∫£n l√Ω role, x√°c minh t·ª± ƒë·ªông v√† nhi·ªÅu t√≠nh nƒÉng ƒë·ªôc quy·ªÅn!</span>
    </div>
    <div class="chat-line" data-subpage="roblox">
      <span class="chat-avatar">
        <img src="https://cdn-icons-png.flaticon.com/512/5968/5968705.png" alt="Roblox" />
      </span>
      <span class="chat-content">Nh√† s√°ng l·∫≠p V√† Ph√°t tri·ªÉn Game</span>
    </div>
    <div class="chat-line" data-subpage="join">
      <span class="chat-avatar">
        <img src="https://cdn-icons-png.flaticon.com/512/1048/1048953.png" alt="User" />
      </span>
      <span class="chat-content">Tham gia ngay ƒë·ªÉ tr·∫£i nghi·ªám h·ªá sinh th√°i server chu·∫©n chuy√™n nghi·ªáp c√πng VPPS!</span>
    </div>
  </div>

  <footer style="text-align:center; padding: 18px 0; background: #101c2b; color:#aaa; font-size: 0.98em;">
    Li√™n h·ªá: vietnamgsrovn.vn1005@gmail.com | ƒê√¢y Ch·ªâ L√† M·ªôt Trang Web M√¥ Ph·ªèng Phong C√°ch C√¥ng An<br>
    &copy; 2025 VPPS. L√™ Ph√∫c An. (gi·∫£ l·∫≠p Roblox)
  </footer>

  <!-- Viewer eye -->
  <div class="viewer-eye" id="viewerEye">
    <svg viewBox="0 0 24 24" fill="none">
      <ellipse cx="12" cy="12" rx="9.5" ry="6.5" stroke="#aad2ff" stroke-width="2.2" />
      <circle cx="12" cy="12" r="2.9" fill="#aad2ff" />
    </svg>
    <span id="viewerCount">1</span>
    <span>ng∆∞·ªùi ƒëang xem</span>
  </div>

  <!-- Subpage overlays -->
  <div id="subpageWelcome" class="subpage-overlay" style="display:none;">
    <div class="subpage-content">
      <button class="subpage-close" onclick="closeSubpage('welcome')" title="ƒê√≥ng">&times;</button>
      <h2 style="margin-top:0;font-size:1.3em;color:#5d6cd6;">Ch√†o m·ª´ng ƒë·∫øn VPPS!</h2>
      <p>Trang web VPPS l·∫•y c·∫£m h·ª©ng t·ª´ phong c√°ch hi·ªán ƒë·∫°i c·ªßa Discord v√† Roblox, mang ƒë·∫øn tr·∫£i nghi·ªám giao di·ªán chat ƒë·ªông ƒë·∫πp m·∫Øt, avatar c√° nh√¢n h√≥a v√† hi·ªáu ·ª©ng gradient n·ªïi b·∫≠t.</p>
      <ul style="margin-left:18px;">
        <li>Giao di·ªán n·ªÅn ƒë·ªông, chuy·ªÉn m√†u m∆∞·ª£t m√†.</li>
        <li>Avatar t·ª´ng d√≤ng chat, hi·ªÉn th·ªã r√µ r√†ng.</li>
        <li>Ch·∫ø ƒë·ªô t·ªëi/s√°ng t·ª± ƒë·ªông, d·ªÖ d√†ng chuy·ªÉn ƒë·ªïi.</li>
      </ul>
      <p>Kh√°m ph√° th√™m c√°c t√≠nh nƒÉng b·∫±ng c√°ch click v√†o c√°c d√≤ng chat kh√°c!</p>
    </div>
  </div>
  <div id="subpageDiscord" class="subpage-overlay" style="display:none;">
    <div class="subpage-content">
      <button class="subpage-close" onclick="closeSubpage('discord')" title="ƒê√≥ng">&times;</button>
      <h2 style="margin-top:0;font-size:1.23em;color:#7289da;">K·∫øt n·ªëi Discord - Roblox</h2>
      <p>Nh√† Ph√°t Tri·ªÉn .</p>
      <ul style="margin-left:18px;">
        <li>Role v√† quy·ªÅn h·∫°n t·ª± ƒë·ªông ƒë·ªìng b·ªô.</li>
        <li>Bot x√°c minh th√¥ng minh, ch·ªëng gi·∫£ m·∫°o.</li>
        <li>Nhi·ªÅu t√≠nh nƒÉng ƒë·ªôc quy·ªÅn ch·ªâ c√≥ t·∫°i VPPS.</li>
      </ul>
      <a href="https://discord.gg/5∆∞ZExMMBya" target="_blank" style="display:inline-block;margin-top:18px;background:#7289da;color:#fff;padding:10px 23px;border-radius:8px;text-decoration:none;font-weight:600;box-shadow:0 2px 9px #7289da44;">Tham gia Discord</a>
    </div>
  </div>
  <div id="subpageRoblox" class="subpage-overlay" style="display:none;">
    <div class="subpage-content">
      <button class="subpage-close" onclick="closeSubpage('roblox')" title="ƒê√≥ng">&times;</button>
      <h2 style="margin-top:0;font-size:1.23em;color:#f0572d;">Ng∆∞·ªùi S√°ng L·∫≠p</h2>
      <p>VPPS| V√† Nh√† Ph√°t Tri·ªÉn</p>
      <ul style="margin-left:18px;">
        <li>ƒê·ªôi Ng≈© Dev T√≠ch Trong C√¥ng Vi·ªác.</li>
        <li>Tr·∫°ng th√°i server c·∫≠p nh·∫≠t li√™n t·ª•c.</li>
        <li>Qu·∫£n tr·ªã m√°y ch·ªß t·ª± ƒë·ªông h√≥a & ti·∫øt ki·ªám th·ªùi gian.</li>
      </ul>
      <!-- B·ªï sung ph·∫ßn nh√† ƒë·ªìng s√°ng l·∫≠p t·∫°i ƒë√¢y -->
      <div class="founders-section">
        <h2 style="color:#f0572d; margin-bottom:20px;">Nh√† ƒë·ªìng s√°ng l·∫≠p & Ch·ªß d·ª± √°n</h2>
        <div class="founder-card highlight">
          <img src="Thiet_ke_chua_co_ten_1.png" alt="KingAn Avatar" class="founder-avatar" />
          <div class="founder-info">
            <div class="founder-name">KingAn</div>
            <div class="founder-role">Ch·ªß d·ª± √°n, Ng∆∞·ªùi t·∫°o ra game</div>
            <div class="founder-desc">
              KingAn l√† ng∆∞·ªùi s√°ng l·∫≠p, ch·ªß d·ª± √°n v√† tr·ª±c ti·∫øp x√¢y d·ª±ng game VPPS tr√™n n·ªÅn t·∫£ng Roblox. 
              Anh ch·ªãu tr√°ch nhi·ªám ƒë·ªãnh h∆∞·ªõng, k·∫øt n·ªëi Discord v√† gi√°m s√°t to√†n b·ªô ho·∫°t ƒë·ªông c·ªông ƒë·ªìng.
            </div>
          </div>
        </div>
        <!-- N·∫øu c√≥ th√™m ƒë·ªìng s√°ng l·∫≠p kh√°c, th√™m founder-card t·∫°i ƒë√¢y -->
      </div>
    </div>
  </div>
  <div id="subpageJoin" class="subpage-overlay" style="display:none;">
    <div class="subpage-content">
      <button class="subpage-close" onclick="closeSubpage('join')" title="ƒê√≥ng">&times;</button>
      <h2 style="margin-top:0;font-size:1.23em;color:#5d6cd6;">Gia nh·∫≠p h·ªá sinh th√°i VPPS</h2>
      <p>Tham gia VPPS ƒë·ªÉ tr·∫£i nghi·ªám h·ªá sinh th√°i server chuy√™n nghi·ªáp, n∆°i m·ªçi th√†nh vi√™n ƒë·ªÅu ƒë∆∞·ª£c b·∫£o v·ªá, h·ªó tr·ª£ v√† ph√°t tri·ªÉn k·ªπ nƒÉng trong m√¥i tr∆∞·ªùng an to√†n.</p>
      <ul style="margin-left:18px;">
        <li>Qu·∫£n l√Ω c·ªông ƒë·ªìng t·ªëi ∆∞u, c√¥ng c·ª• hi·ªán ƒë·∫°i.</li>
        <li>S·ª± ki·ªán, minigame h·∫•p d·∫´n li√™n t·ª•c m·ªói tu·∫ßn.</li>
        <li>ƒê·ªôi ng≈© h·ªó tr·ª£ gi√†u kinh nghi·ªám, th√¢n thi·ªán.</li>
      </ul>
      <p>ƒê·ª´ng b·ªè l·ª°, h√£y l√† m·ªôt ph·∫ßn c·ªßa VPPS ngay h√¥m nay!</p>
    </div>
  </div>

  <!-- Nh·∫°c n·ªÅn kh√¥ng b·∫£n quy·ªÅn (·∫©n audio controls) -->
  <audio id="bgMusic" loop>
    <source src="Ch√∫ng ta l√† chi·∫øn sƒ© c√¥ng an (Tr·ªçng B·∫±ng) - D√†n qu√¢n nh·∫°c B·ªô C√¥ng an.mp3" type="audio/mpeg">
    <!-- C√≥ th·ªÉ thay b·∫±ng nh·∫°c kh√°c n·∫øu mu·ªën -->
  </audio>

  <script>
    // Auto theme load
    const themeBtn = document.getElementById('themeToggle');
    function setTheme(mode) {
      if (mode === 'dark') {
        document.body.classList.add('dark-mode');
        document.body.classList.remove('light-mode');
        localStorage.setItem('darkModeVPPS', 'enabled');
      } else {
        document.body.classList.remove('dark-mode');
        document.body.classList.add('light-mode');
        localStorage.setItem('darkModeVPPS', 'disabled');
      }
    }
    if (localStorage.getItem('darkModeVPPS') === 'enabled') {
      setTheme('dark');
    } else {
      setTheme('light');
    }
    themeBtn.addEventListener('click', function() {
      if (document.body.classList.contains('dark-mode')) {
        setTheme('light');
      } else {
        setTheme('dark');
      }
    });

    // Music toggle logic
    const musicToggle = document.getElementById('musicToggle');
    const bgMusic = document.getElementById('bgMusic');
    let musicEnabled = localStorage.getItem('vppsMusic') !== 'off';
    function updateMusicGUI() {
      if(musicEnabled) {
        musicToggle.classList.remove('music-off');
      } else {
        musicToggle.classList.add('music-off');
      }
    }
    function playMusicIfEnabled() {
      if (musicEnabled) {
        bgMusic.volume = 0.33;
        bgMusic.play().catch(()=>{});
      } else {
        bgMusic.pause();
      }
      updateMusicGUI();
    }
    musicToggle.addEventListener('click', function() {
      musicEnabled = !musicEnabled;
      localStorage.setItem('vppsMusic', musicEnabled ? 'on' : 'off');
      playMusicIfEnabled();
    });
    document.addEventListener('DOMContentLoaded', function() {
      updateMusicGUI();
    });
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        bgMusic.pause();
      } else {
        playMusicIfEnabled();
      }
    });

    // Chat subpages
    const chatLines = document.querySelectorAll('.chat-line');
    const subpages = {
      welcome: document.getElementById('subpageWelcome'),
      discord: document.getElementById('subpageDiscord'),
      roblox: document.getElementById('subpageRoblox'),
      join: document.getElementById('subpageJoin')
    };
    function openSubpage(key) {
      Object.values(subpages).forEach(sp => {if (sp) sp.style.display = 'none';});
      if (subpages[key]) {
        subpages[key].style.display = 'flex';
        document.getElementById('viewerEye').classList.add('visible');
        document.getElementById('viewerCount').textContent = Math.floor(Math.random()*24+7);
      }
    }
    function closeSubpage(key) {
      if (subpages[key]) subpages[key].style.display = 'none';
      document.getElementById('viewerEye').classList.remove('visible');
    }
    chatLines.forEach(cl => {
      cl.addEventListener('click', function() {
        openSubpage(cl.getAttribute('data-subpage'));
      });
    });
    Object.entries(subpages).forEach(([key, el]) => {
      el.addEventListener('click', function(e) {
        if (e.target === el) closeSubpage(key);
      });
    });
    window.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') Object.keys(subpages).forEach(closeSubpage);
    });
  </script>
</body>
</html>
